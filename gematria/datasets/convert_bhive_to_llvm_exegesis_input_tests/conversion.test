; Test that converting a single basic block in a CSV with the default settings
; produces a proper llvm-exegesis snippet file.

; RUN: split-file %s %t
; RUN: mkdir %t.asmdir
; RUN: %convert_bhive_to_llvm_exegesis_input --asm_output_dir=%t.asmdir --bhive_csv=%t/test.csv
; RUN: cat %t.asmdir/0.test | FileCheck %s

; CHECK: # LLVM-EXEGESIS-DEFREG RAX 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RCX 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RDX 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RSI 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RDI 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R8 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R9 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R10 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R11 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RBX 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R14 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R15 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R12 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG R13 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RBP 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG RSP 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM0 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM1 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM2 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM3 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM4 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM5 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM6 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM7 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM8 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM9 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM10 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM11 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM12 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM13 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM14 12345600
; CHECK: # LLVM-EXEGESIS-DEFREG XMM15 12345600
; CHECK: # LLVM-EXEGESIS-MEM-DEF MEM 4096 0000000012345600
; CHECK: # LLVM-EXEGESIS-MEM-MAP MEM 65536
; CHECK:	cmpl	(%rcx), %esi

;--- test.csv
3b31,45.000000
